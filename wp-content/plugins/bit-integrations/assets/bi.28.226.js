var L=Object.defineProperty,R=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var S=(t,e,i)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,x=(t,e)=>{for(var i in e||(e={}))E.call(e,i)&&S(t,i,e[i]);if(j)for(var i of j(e))N.call(e,i)&&S(t,i,e[i]);return t},I=(t,e)=>R(t,z(e));var w=(t,e,i)=>new Promise((h,p)=>{var l=n=>{try{b(i.next(n))}catch(m){p(m)}},u=n=>{try{b(i.throw(n))}catch(m){p(m)}},b=n=>n.done?h(n.value):Promise.resolve(n.value).then(l,u);b((i=i.apply(t,e)).next())});import{f as _,r as k,j as r}from"./main-794.js";import{e as v,_ as a}from"./bi.828.0.js";import{S as D,I as g,E as $,G,A as U}from"./bi.651.956.js";import{a9 as F}from"./bi.266.440.js";import{h as y,c as O,a as B}from"./bi.30.838.js";import{T as A,t as H}from"./bi.510.749.js";import"./bi.685.9.js";import"./bi.499.3.js";import"./bi.961.13.js";import"./bi.690.11.js";import"./bi.811.14.js";function tt({notionConf:t,setNotionConf:e,step:i,setStep:h,isInfo:p,loading:l,setLoading:u}){const b=_(v),[n,m]=k.useState(!1),[o,d]=k.useState({clientId:"",clientSecret:""}),{notion:s}=H,f=()=>w(this,null,function*(){setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),h(2),u(I(x({},l),{page:!0})),(yield B(t,e))&&u(I(x({},l),{page:!1}))}),T=`
  <h4>${a("Step of get Client Id & Client Secret","bit-integrations")}</h4>
  <ul>
    <li>${a("Goto","bit-integrations")}Goto <a href="https://www.notion.so/my-integrations" target='_blank'>My integrations.</a></li>
    <li>${a("Click new integration.","bit-integrations")}</li>
    <li>${a("Name to identify your integration to users.","bit-integrations")}</li>
    <li>${a("<b>User Capabilities</b> always select read user information including email addresses","bit-integrations")}</li>
    <li><b>${a("Submit","bit-integrations")}</b></li>
    <li>${a("Select <b>Integration type</b> Public","bit-integrations")}</li>
    <li>${a("Fill up <b>OAuth Domain & URIs</b> information","bit-integrations")}</li>
    <li>${a("Homepage & Redirect URIs copy from Integration Settings","bit-integrations")}</li>
    <li>${a("Finally, click <b>Authorize</b> button.","bit-integrations")}</li>
</ul>
`;return r.jsxs(D,{step:i,stepNo:1,style:{width:900,height:"auto"},children:[(s==null?void 0:s.youTubeLink)&&r.jsx(A,{title:"Notion",youTubeLink:s==null?void 0:s.youTubeLink}),(s==null?void 0:s.docLink)&&r.jsx(A,{title:"Notion",docLink:s==null?void 0:s.docLink}),r.jsxs("div",{className:"mt-2",children:[r.jsx(g,{label:a("Integration Name","bit-integrations"),name:"name",placeholder:a("Integration Name...","bit-integrations"),value:t.name,onchange:c=>y(c,t,e,o,d)}),r.jsx(g,{label:"Homepage",copytext:window.location.origin,setToast:!0}),r.jsx(g,{label:"Redirect URIs",copytext:`${b.api.base}/redirect`,setToast:!0}),r.jsx(g,{label:a("OAuth client ID","bit-integrations"),name:"clientId",placeholder:a("client ID...","bit-integrations"),value:t.clientId,onchange:c=>y(c,t,e,o,d)}),r.jsx($,{error:o.clientId}),r.jsx(g,{label:a("OAuth client secret","bit-integrations"),name:"clientSecret",placeholder:a("client Secret...","bit-integrations"),value:t.clientSecret,onchange:c=>y(c,t,e,o,d)}),r.jsx($,{error:o.clientSecret}),r.jsx(G,{url:"https://www.notion.so/my-integrations",info:a("Notion My integrations, please visit","bit-integrations")}),!p&&r.jsx(U,{onclick:()=>O(t,e,o,d,m,l,u),nextPage:f,auth:n,loading:l.auth})]}),r.jsx(F,{note:T})]})}export{tt as default};
