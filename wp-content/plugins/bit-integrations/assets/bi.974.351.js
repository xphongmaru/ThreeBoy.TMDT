var T=Object.defineProperty;var P=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var k=(o,i,s)=>i in o?T(o,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[i]=s,h=(o,i)=>{for(var s in i||(i={}))v.call(i,s)&&k(o,s,i[s]);if(P)for(var s of P(i))I.call(i,s)&&k(o,s,i[s]);return o};import{r as d,j as e,u as x,o as N}from"./main-794.js";import{z as A,y as C}from"./bi.266.440.js";import{_ as t,s as j,c as B}from"./bi.828.0.js";import{S as F}from"./bi.961.13.js";import{S as D}from"./bi.552.957.js";import{I as M,s as U}from"./bi.499.3.js";import{B as w,h as L,c as R,i as q,C as G,A as z,E as V,F as H,P as W,R as Y,S as Q,a as J,b as K,d as X,e as Z,f as $,g as tt,j as et,k as it,l as st,m as at,n as nt}from"./bi.238.806.js";import{B as ot}from"./bi.944.743.js";import{T as E,t as rt}from"./bi.510.749.js";import"./bi.685.9.js";import"./bi.690.11.js";import"./bi.811.14.js";import"./bi.257.704.js";import"./bi.35.705.js";function lt({formID:o,buddyBossConf:i,setBuddyBossConf:s,step:b,setStep:f,isLoading:p,setIsLoading:_,setSnackbar:S}){const[l,m]=d.useState(!1),[u,g]=d.useState(!1),{buddyBoss:a}=rt,c=()=>{_("auth"),B({},"buddyBoss_authorize").then(r=>{r!=null&&r.success&&(m(!0),S({show:!0,msg:t("Connected with BuddyBoss Successfully","bit-integrations")})),_(!1),g(!0)})},n=r=>{const y=C(i);y[r.target.name]=r.target.value,s(y)};return e.jsxs("div",{className:"btcd-stp-page",style:{width:b===1&&900,height:b===1&&"auto"},children:[(a==null?void 0:a.youTubeLink)&&e.jsx(E,{title:"BuddyBoss",youTubeLink:a==null?void 0:a.youTubeLink}),(a==null?void 0:a.docLink)&&e.jsx(E,{title:"BuddyBoss",docLink:a==null?void 0:a.docLink}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:t("Integration Name:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:n,name:"name",value:i.name,type:"text",placeholder:t("Integration Name...","bit-integrations")}),p==="auth"&&e.jsxs("div",{className:"flx mt-5",children:[e.jsx(A,{size:25,clr:"#022217",className:"mr-2"}),"Checking if BuddyBoss is active!!!"]}),u&&!l&&!p&&e.jsxs("div",{className:"flx mt-5",style:{color:"red"},children:[e.jsx("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),j(t("%s plugin must be activated to integrate with Bit Integrations","bit-integrations"),"BuddyBoss")]}),!l&&e.jsx("button",{onClick:c,className:"btn btcd-btn-lg purple sh-sm flx mt-5",type:"button",children:t("Connect","bit-integrations")}),l&&e.jsxs("button",{onClick:()=>f(2),className:"btn btcd-btn-lg purple sh-sm flx mt-5",type:"button",disabled:!l,children:[t("Next","bit-integrations"),e.jsx(ot,{className:"ml-1 rev-icn"})]})]})}function Bt({formFields:o,setFlow:i,flow:s,allIntegURL:b,isInfo:f,edit:p}){const _=x(),{formID:S}=N(),[l,m]=d.useState(!1),[u,g]=d.useState(1),[a,c]=d.useState({show:!1}),[n,r]=d.useState({name:"BuddyBoss",type:"BuddyBoss",mainAction:"",field_map:[{formField:"",buddyBossFormField:""}],allActions:ct,groupPrivacyOptions:yt,userStatusOptions:ft,createGroupFields:ut,topicInForumFields:dt,sendAllUserNotificationFields:bt,sendAllGroupPrivateMessageFields:mt,addPostToGroupFields:pt,addPostSiteWideActivityStreamFields:_t,postReplyTopicForumFields:gt,actions:{}}),y=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!R(n)){c({show:!0,msg:t("Please map fields to continue.","bit-integrations")});return}n.mainAction!==""&&g(3)};return e.jsxs("div",{children:[e.jsx(F,{snack:a,setSnackbar:c}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(D,{step:3,active:u})}),e.jsx(lt,{formID:S,buddyBossConf:n,setBuddyBossConf:r,step:u,setStep:g,isLoading:l,setIsLoading:m,setSnackbar:c}),e.jsxs("div",{className:"btcd-stp-page",style:h({},u===2&&{width:900,height:"auto",overflow:"visible"}),children:[e.jsx(w,{formFields:o,handleInput:O=>L(O,n,r),buddyBossConf:n,setBuddyBossConf:r,isLoading:l,setIsLoading:m,setSnackbar:c,allIntegURL:b,isInfo:f,edit:p}),e.jsxs("button",{onClick:()=>y(),disabled:!n.mainAction||!R(n)||l||q(n),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[t("Next","bit-integrations")," ",e.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.jsx(M,{step:u,saveConfig:()=>U({flow:s,setFlow:i,allIntegURL:b,navigate:_,conf:n,setIsLoading:m,setSnackbar:c}),isLoading:l,dataConf:n,setDataConf:r,formFields:o})]})}const ct=[{key:G,label:t("Create Group Pro","bit-integrations")},{key:z,label:t("Add the user to a group","bit-integrations")},{key:V,label:t("End friendship with a user Pro","bit-integrations")},{key:H,label:t("Follow a user Pro","bit-integrations")},{key:W,label:t("Post a topic in a forum Pro","bit-integrations")},{key:Y,label:t("Remove user from a group Pro","bit-integrations")},{key:Q,label:t("Send a friendship request to a user Pro","bit-integrations")},{key:J,label:t("Send a notification to all members of a group Pro","bit-integrations")},{key:K,label:t("Send a private message to all members of a group Pro","bit-integrations")},{key:X,label:t("Send a private message to a user Pro","bit-integrations")},{key:Z,label:t("Send a notification to a user Pro","bit-integrations")},{key:$,label:t("Stop following a user Pro","bit-integrations")},{key:tt,label:t("Subscribe the user to a forum Pro","bit-integrations")},{key:et,label:t("Add a post to the activity stream of a group Pro","bit-integrations")},{key:it,label:t("Add a post to the site wide activity stream Pro","bit-integrations")},{key:st,label:t("Add a post to the user's activity stream Pro","bit-integrations")},{key:at,label:t("Post a reply to a topic in a forum","bit-integrations")},{key:nt,label:t("Set the user's status to a specific status","bit-integrations")}],ut=[{key:"group_name",label:t("Group Name","bit-integrations"),required:!0}],dt=[{key:"topic_content",label:t("Topic Content","bit-integrations"),required:!0},{key:"topic_title",label:t("Topic Title","bit-integrations"),required:!1}],bt=[{key:"notification_content",label:t("Notification Content","bit-integrations"),required:!0},{key:"notification_link",label:t("Notification Link","bit-integrations"),required:!1}],mt=[{key:"message_content",label:t("Message Content","bit-integrations"),required:!0},{key:"message_subject",label:t("Message subject","bit-integrations"),required:!1}],pt=[{key:"activity_action",label:t("activity_action","bit-integrations"),required:!0},{key:"activity_content",label:t("activity_content","bit-integrations"),required:!0}],_t=[{key:"activity_action",label:t("activity_action","bit-integrations"),required:!1},{key:"activity_action_link",label:t("activity_action_link","bit-integrations"),required:!1},{key:"activity_content",label:t("activity_content","bit-integrations"),required:!0}],gt=[{key:"reply_content",label:t("Reply Content","bit-integrations"),required:!0}],yt=[{key:"1",label:t("Public","bit-integrations")},{key:"2",label:t("Private","bit-integrations")},{key:"3",label:t("Hidden","bit-integrations")}],ft=[{key:"1",label:t("Active","bit-integrations")},{key:"2",label:t("Suspend","bit-integrations")}];export{Bt as default};
